# 快速启动指南 ⚡

## 第一步：准备数据库

### Windows 用户（推荐）

**双击运行**：`初始化数据库.bat`

然后输入你的 MySQL root 密码，等待完成即可。

### 手动执行

```bash
# 1. 确保 MySQL 已启动

# 2. 导入数据库（在项目根目录执行）
# 如果 mysql 命令不可用，需要进入 MySQL 的 bin 目录
cd "C:\Program Files\MySQL\MySQL Server 5.7\bin"

# 然后执行（注意路径）
mysql -u root -p < I:\freedownload\test\database\init.sql

# 或者如果已配置环境变量，直接在项目根目录执行
mysql -u root -p < database\init.sql
```

### 验证是否成功

```bash
mysql -u root -p
```

```sql
SHOW DATABASES;  -- 应该能看到 thumbs_mall
USE thumbs_mall;
SHOW TABLES;     -- 应该看到 4 张表
EXIT;
```

---

## 第二步：配置数据库密码

打开 `backend/config.py`，找到这一行：

```python
MYSQL_PASSWORD = os.getenv('MYSQL_PASSWORD', 'root')
```

修改为你的 MySQL 密码，例如：

```python
MYSQL_PASSWORD = os.getenv('MYSQL_PASSWORD', '你的MySQL密码')
```

## 第三步：启动后端

### Windows 用户（推荐）

**双击运行**：`backend\run.bat`

### 手动执行

```bash
cd backend

# 安装依赖（首次运行需要）
pip install -r requirements.txt

# 如果下载慢，使用国内镜像
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple

# 启动后端
python app.py
```

**成功提示**: 看到以下信息表示启动成功
```
* Running on http://0.0.0.0:5000
已创建默认管理员账号: admin / admin123
```

---

## 第四步：启动前端

**新开一个命令窗口**

### Windows 用户（推荐）

**双击运行**：`frontend\run.bat`

### 手动执行

```bash
cd frontend

# 安装依赖（首次运行需要）
npm install

# 如果下载慢，使用国内镜像
npm install --registry=https://registry.npmmirror.com

# 启动前端
npm run dev
```

**成功提示**: 看到以下信息表示启动成功
```
Local: http://localhost:5173/
```

---

## 第五步：登录系统

打开浏览器访问: **http://localhost:5173**

### 默认账号

**管理员**:
- 用户名: `admin`
- 密码: `admin123`
- 可以管理用户、发放大拇哥、管理商品

**普通用户**:
- 用户名: `zhangsan`
- 密码: `user123`
- 可以查看积分、兑换商品

---

## 🎉 快速启动（一键启动）

### Windows 用户超级简单启动流程：

1. **检查环境**：双击 `检查环境.bat`
2. **初始化数据库**：双击 `初始化数据库.bat`（输入 MySQL 密码）
3. **修改配置**：编辑 `backend/config.py` 中的数据库密码
4. **启动后端**：双击 `backend/run.bat`
5. **启动前端**：双击 `frontend/run.bat`
6. **访问系统**：浏览器打开 http://localhost:5173

完成！🎊

---

## 功能说明

### 普通用户功能
- ✅ 查看个人积分
- ✅ 查看获得的大拇哥记录
- ✅ 浏览积分商城
- ✅ 兑换商品
- ✅ 查看兑换记录

### 管理员功能
- ✅ 所有普通用户功能
- ✅ 用户管理（新增、编辑用户）
- ✅ 发放大拇哥（单大拇哥 👍 = 1分，双大拇哥 👍👍 = 5分）
- ✅ 商品管理（新增、编辑、上下架、删除）
- ✅ 兑换管理（查看所有兑换记录、取消兑换）

---

## 常见问题

### ❌ 后端启动失败

**提示**: `Can't connect to MySQL`

**解决**: 
1. 确认 MySQL 服务已启动（运行 `net start mysql57` 或 `net start mysql`）
2. 检查 `backend/config.py` 中的数据库密码是否正确
3. 确认数据库 `thumbs_mall` 已创建（运行 `初始化数据库.bat`）
4. 测试 MySQL 连接：双击 `mysql命令行.bat` 看是否能登录

### ❌ mysql 命令不可用

**提示**: `'mysql' 不是内部或外部命令`

**解决**:
1. 使用 `mysql命令行.bat` 脚本
2. 或者手动进入 MySQL bin 目录：
   ```bash
   cd "C:\Program Files\MySQL\MySQL Server 5.7\bin"
   mysql -u root -p
   ```
3. 或者添加 MySQL 到系统环境变量（参考 DEPLOY.md）

### ❌ 前端启动失败

**提示**: `command not found: npm`

**解决**: 需要先安装 Node.js，访问 https://nodejs.org/

### ❌ 登录失败

**提示**: `用户名或密码错误`

**解决**: 
1. 确认使用的是默认账号
2. 如果数据库重新初始化过，使用 `admin / admin123` 登录

---

## 端口说明

- 后端 API: `http://localhost:5000`
- 前端页面: `http://localhost:5173`
- MySQL: `localhost:3306`

---

## 目录结构

```
.
├── backend/              # 后端代码
│   ├── app.py           # 主应用入口
│   ├── models.py        # 数据库模型
│   ├── config.py        # 配置文件
│   └── requirements.txt # Python 依赖
├── frontend/            # 前端代码
│   ├── src/            # 源代码
│   ├── package.json    # Node 依赖
│   └── vite.config.js  # Vite 配置
└── database/           # 数据库脚本
    └── init.sql        # 初始化脚本
```

---

## 下一步

详细的部署和配置说明请查看 `DEPLOY.md` 文件。

祝使用愉快！👍👍

