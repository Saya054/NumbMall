# 新增功能说明

## 已完成的功能

### 1️⃣ 用户注册功能 ✅

#### 后端 API
- `POST /api/auth/register` - 用户注册接口
  - 支持用户名、密码、姓名、邮箱、手机号
  - 自动检查用户名是否重复
  - 密码自动加密存储

#### 前端页面
- `/register` - 用户注册页面
  - 表单验证（用户名长度、密码强度、密码确认）
  - 注册成功后跳转到登录页
  - 登录页添加"立即注册"链接

### 2️⃣ 管理员重置用户密码 ✅

#### 后端 API
- `POST /api/users/<user_id>/reset-password` - 管理员重置用户密码
  - 只有管理员可以操作
  - 可以为任何用户设置新密码

#### 前端功能（需要在用户管理页面添加）
- 用户列表添加"重置密码"按钮
- 弹窗输入新密码

### 3️⃣ 商品图片本地上传 ✅

#### 后端 API
- `POST /api/upload` - 文件上传接口
  - 支持 png, jpg, jpeg, gif, webp 格式
  - 自动生成唯一文件名
  - 文件保存在 `backend/uploads/` 目录

- `GET /api/uploads/<filename>` - 获取上传的图片

#### 前端功能（需要更新商品管理页面）
- 商品表单中图片URL改为文件上传
- 使用 Element Plus 的 Upload 组件
- 支持图片预览

---

## 待完成的前端页面更新

### 需要更新的文件：

1. **frontend/src/views/admin/Users.vue**
   - 添加"重置密码"按钮
   - 添加重置密码对话框

2. **frontend/src/views/admin/Products.vue**
   - 将图片URL输入框改为文件上传组件
   - 添加图片预览功能

---

## 使用说明

### 用户注册
1. 访问登录页，点击"立即注册"
2. 填写注册信息
3. 注册成功后使用新账号登录

### 管理员重置密码
1. 进入"用户管理"
2. 点击用户操作列的"重置密码"
3. 输入新密码，确认

### 商品图片上传
1. 进入"商品管理"
2. 新增/编辑商品
3. 点击"选择图片"按钮上传
4. 图片会显示预览

---

## 后续优化建议

- [ ] 用户注册时发送验证邮件
- [ ] 图片压缩和缩略图生成
- [ ] 图片文件大小限制提示
- [ ] 批量图片上传
- [ ] 用户头像上传



