# 更新日志

## v1.1.0 (2024-10-17)

### 🎉 新增功能

#### 1. 用户注册功能
- ✅ 新增用户注册页面 `/register`
- ✅ 支持用户名、密码、姓名、邮箱、手机号注册
- ✅ 自动检查用户名重复
- ✅ 密码自动加密存储
- ✅ 登录页添加"立即注册"链接

#### 2. 管理员重置用户密码
- ✅ 管理员可以重置任意用户密码
- ✅ 用户管理页面添加"重置密码"按钮
- ✅ 重置密码对话框，支持密码确认

#### 3. 用户修改密码
- ✅ 所有用户可以修改自己的密码
- ✅ 需要验证旧密码
- ✅ 修改后自动退出重新登录
- ✅ 右上角头像菜单中添加入口

#### 4. 商品图片本地上传
- ✅ 支持本地图片上传
- ✅ 自动生成唯一文件名
- ✅ 支持图片预览
- ✅ 支持 jpg、png、gif、webp 格式
- ✅ 限制文件大小 5MB
- ✅ 图片存储在 `backend/uploads/` 目录

#### 5. 统一管理工具
- ✅ 创建 PyQt5 图形化管理工具
- ✅ 环境检查功能
- ✅ 依赖安装功能
- ✅ 数据库配置功能
- ✅ 重置密码功能
- ✅ 一键启动服务

### 🔧 功能优化

#### 积分规则调整
- ✅ 双大拇哥积分：2分 → **5分**
- ✅ 说明：双大拇哥等于5个单大拇哥

#### UI 优化
- ✅ 修复侧边栏子菜单背景色问题
- ✅ 子菜单现在使用深色背景，文字清晰可见
- ✅ 统一的悬停和激活效果

#### 安全性改进
- ✅ 配置文件使用环境变量（.env）
- ✅ 数据库密码不再明文写在代码中
- ✅ .env 文件已添加到 .gitignore

### 🗑️ 清理优化

#### 删除冗余文件
删除了 20 个临时 bat 脚本文件，保留核心文件：
- ✅ `管理工具.bat` - 统一管理工具（推荐使用）
- ✅ `检查环境.bat` - 环境检查
- ✅ `backend\run.bat` - 后端启动
- ✅ `frontend\run.bat` - 前端启动

### 📝 文档更新

- ✅ 新增 `启动指南-简化版.md`
- ✅ 新增 `新功能说明.md`
- ✅ 更新 `README.md` - 添加管理工具说明
- ✅ 更新所有文档中的积分规则说明

---

## v1.0.0 (2024-10-17)

### 首次发布

- ✅ 基础用户系统
- ✅ 大拇哥积分系统
- ✅ 积分商城
- ✅ 商品管理
- ✅ 兑换管理
- ✅ 完整文档

---

## 下一个版本计划

### v1.2.0 (计划中)

- [ ] 用户头像上传
- [ ] 积分排行榜
- [ ] 数据导出功能（Excel）
- [ ] 操作日志记录
- [ ] 邮件通知
- [ ] 移动端适配优化



